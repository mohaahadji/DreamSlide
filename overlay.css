/* extension/overlay.css */
/* DreamWeb — Cinematic Glass UI (no frameworks) */

/* ===== Theme tokens ===== */
:root{
    --dw-bg:#0b0f1a;
    --dw-panel:#0f1220;
    --dw-text:#e7ebf5;
    --dw-muted:#9aa5bb;
    --dw-accent:#7aa2ff;
    --dw-border:rgba(255,255,255,.10);
    --dw-chip:#12182b;
    --dw-chip-hover:#171d33;
    --dw-chip-active:#1e263f;
    --dw-shadow:0 20px 50px rgba(0,0,0,.45);
  }
  
  /* ===== Root overlay ===== */
  #__dreamweb_overlay__{
    position:fixed; inset:0; z-index:2147483647;
    font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  }
  
  /* Soft bokeh backdrop */
  .dw-backdrop{
    position:absolute; inset:0;
    background:
      radial-gradient(1200px 800px at 20% 10%, rgba(59,130,246,.18), transparent 60%),
      radial-gradient(1000px 800px at 80% 90%, rgba(168,85,247,.16), transparent 60%),
      rgba(10,12,20,.72);
    backdrop-filter:blur(8px) saturate(120%);
  }
  
  /* Shell */
  .dw-shell{
    position:relative; margin:4vh auto; width:min(1120px,92vw);
    background:linear-gradient(180deg, rgba(21,25,43,.9), rgba(10,12,20,.9));
    color:var(--dw-text);
    border-radius:22px; border:1px solid var(--dw-border);
    box-shadow:var(--dw-shadow);
    display:grid; grid-template-rows:auto auto 1fr;
    max-height:92vh; overflow:clip;
  }
  
  /* Header */
  .dw-header{
    display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px;
    padding:14px 18px; border-bottom:1px solid var(--dw-border);
  }
  .dw-title{ font-weight:800; letter-spacing:.2px; display:flex; align-items:center; gap:10px; }
  .dw-title .dw-dot{ width:10px; height:10px; border-radius:99px; background:var(--dw-accent); box-shadow:0 0 16px var(--dw-accent); }
  
  .dw-controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
  .dw-select,.dw-chip,.dw-btn{
    border:1px solid var(--dw-border);
    border-radius:12px;
    background:var(--dw-chip);
    color:var(--dw-text);
    padding:8px 12px;
    font-size:12.5px;
    transition:background .18s ease, transform .06s ease;
  }
  .dw-chip:hover,.dw-select:hover,.dw-btn:hover{ background:var(--dw-chip-hover); }
  .dw-chip:active,.dw-btn:active{ transform:translateY(1px); }
  .dw-chip.active{ background:var(--dw-chip-active); border-color:rgba(255,255,255,.14); }
  .dw-btn.primary{ background:#18213a; border-color:rgba(255,255,255,.16); }
  .dw-close{ border:0; padding:8px 12px; border-radius:12px; background:#1d233a; color:#c9d3ea; cursor:pointer; }
  .dw-close:hover{ background:#232a46; }
  
  .dw-toolbar{ display:flex; gap:8px; align-items:center; }
  .dw-kbd{ padding:2px 6px; border-radius:6px; border:1px solid var(--dw-border); background:#0f1528; color:#c7d2fe; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
  .dw-tip{ color:var(--dw-muted); font-size:11.5px; }
  
  /* Status */
  .dw-statusbar{
    padding:10px 16px;
    display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center;
    border-bottom:1px dashed var(--dw-border);
    color:var(--dw-muted); font-size:12px;
  }
  .dw-progress{
    height:6px; background:#0f1528; border-radius:999px; overflow:hidden; border:1px solid var(--dw-border);
  }
  .dw-progress>i{
    display:block; height:100%;
    background:linear-gradient(90deg,#6ea8ff,#9b8cff);
    width:0%; transition:width .28s ease; border-radius:999px;
  }
  
  /* ===== Content list (single column) ===== */
  .dw-content{
    overflow:auto; padding:18px;
    display:flex; flex-direction:column; gap:22px;
    width:100%; align-items:center;
  }
  
  /* ===== Card ===== */
  .dw-card{
    width:min(1080px,96%);
    background:transparent;
    border:0; border-radius:22px; overflow:hidden;
    display:grid; grid-template-columns:1.05fr 1.35fr; /* image | text on wide screens */
    box-shadow:var(--dw-shadow);
    position:relative;
  }
  
  /* Soft glow plate behind card */
  .dw-card::after{
    content:""; position:absolute; inset:16px -16px -16px 16px;
    border-radius:24px;
    background:linear-gradient(135deg, rgba(122,162,255,.18), rgba(155,140,255,.14));
    filter:blur(18px);
    z-index:-1;
  }
  
  /* Media (left panel) */
  .dw-media{
    position:relative; background:#0e1428; min-height:220px;
  }
  .dw-media .dw-img, .dw-media .dw-canvas{
    position:relative; display:block; width:100%; height:100%;
    object-fit:cover; background:#fff; /* white art panel look */
    border-right:1px solid var(--dw-border);
  }
  
  /* Text panel (right) */
  .dw-copy{
    position:relative; padding:26px;
    background:
      linear-gradient(135deg, rgba(21,25,43,.98), rgba(10,12,20,.98)),
      radial-gradient(120% 100% at 50% 0%, rgba(122,162,255,.25), rgba(155,140,255,.15) 60%, transparent 70%);
    backdrop-filter:saturate(120%) blur(1px);
    color:var(--dw-text);
    display:grid; align-content:start; gap:10px;
  }
  .dw-copy::before{
    content:""; position:absolute; inset:0;
    background:linear-gradient(135deg, rgba(122,162,255,.22), rgba(155,140,255,.18));
    opacity:.25; mix-blend-mode:overlay; pointer-events:none;
  }
  
  .dw-scene-title{
    font-weight:900;
    font-size:clamp(20px,2.4vw,32px);
    letter-spacing:.2px;
    color:#fff;
  }
  .dw-copy p{
    color:var(--dw-muted);
    font-size:clamp(13.5px,1.2vw,16px);
    line-height:1.6;
    margin:2px 0 8px;
  }
  
  /* Buttons */
  .dw-btn{ cursor:pointer; }
  .dw-btn.secondary{
    background:rgba(19,26,49,.9);
    border:1px solid rgba(255,255,255,.12);
    border-radius:12px;
    padding:8px 12px;
  }
  
  /* ===== HERO (full-bleed image with darker overlay, not reused in Scene 1) ===== */
  .dw-hero{
    grid-template-columns:1.2fr 1.6fr;
    width:min(1080px,96%);
    margin:0 auto;
    border:1px solid var(--dw-border);
    border-radius:22px; overflow:hidden;
  }
  @media (max-width:980px){ .dw-hero{ grid-template-columns:1fr; } }
  
  .dw-hero .dw-hero-media{ position:relative; width:100%; min-height:clamp(360px, 52vh, 560px); background:#0e1428; }
  .dw-hero .dw-hero-media .dw-img,
  .dw-hero .dw-hero-media .dw-canvas{
    position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; border:0;
  }
  /* darker for legibility */
  .dw-hero .dw-hero-media::before{
    content:""; position:absolute; inset:0;
    background:linear-gradient(to top,
      rgba(0,0,0,.78),
      rgba(0,0,0,.50) 45%,
      rgba(0,0,0,.10) 78%);
    pointer-events:none;
  }
  
  /* Text over hero image */
  .dw-hero .dw-hero-text{
    position:absolute; inset:0; display:flex; flex-direction:column;
    justify-content:flex-end; padding:24px; gap:8px;
  }
  .dw-hero .dw-page-title{
    font-size:clamp(26px,3.2vw,40px);
    line-height:1.2; font-weight:900; color:#fff;
    text-shadow:0 2px 18px rgba(0,0,0,.45);
  }
  /* No truncation here per your request */
  .dw-hero .dw-hero-text p{ color:rgba(255,255,255,.92); font-size:clamp(14px,1.6vw,17px); margin:0; text-shadow:0 1px 12px rgba(0,0,0,.55); }
  .dw-hero .dw-meta,.dw-hero .dw-tip{ color:rgba(255,255,255,.75); }
  .dw-hero img.dw-img{ border-bottom:0; }
  
  /* ===== Accessibility / focus ===== */
  .dw-focus-ring:focus{ outline:2px solid #6ea8ff; outline-offset:2px; }
  
  /* ===== Responsive stacking ===== */
  @media (max-width:880px){
    .dw-card{
      grid-template-columns:1fr; /* stack image then text */
      border:1px solid var(--dw-border);
    }
    .dw-media .dw-img, .dw-media .dw-canvas{
      border-right:0; border-bottom:1px solid var(--dw-border);
    }
  }
  
  /* ===== Reduced motion ===== */
  @media (prefers-reduced-motion:reduce){ *{ animation:none !important; transition:none !important; } }
  
  /* Ensure hero always spans full container width */
  .dw-hero{ width:100%; }
/* extension/overlay.css */
/* DreamWeb — Cinematic Glass UI (no frameworks) */

/* ===== Theme tokens ===== */
:root{
  --dw-bg:#0b0f1a;
  --dw-panel:#0f1220;
  --dw-text:#e7ebf5;
  --dw-muted:#9aa5bb;
  --dw-accent:#7aa2ff;
  --dw-border:rgba(255,255,255,.10);
  --dw-chip:#12182b;
  --dw-chip-hover:#171d33;
  --dw-chip-active:#1e263f;
  --dw-shadow:0 20px 50px rgba(0,0,0,.45);

  /* slideshow sizing */
  --dw-slide-min-h: 72vh; /* each card height inside content area */
}

/* ===== Root overlay ===== */
#__dreamweb_overlay__{
  position:fixed; inset:0; z-index:2147483647;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

/* Soft bokeh backdrop */
.dw-backdrop{
  position:absolute; inset:0;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(59,130,246,.18), transparent 60%),
    radial-gradient(1000px 800px at 80% 90%, rgba(168,85,247,.16), transparent 60%),
    rgba(10,12,20,.72);
  backdrop-filter:blur(8px) saturate(120%);
}

/* Shell */
.dw-shell{
  position:relative; margin:4vh auto; width:min(1120px,92vw);
  background:linear-gradient(180deg, rgba(21,25,43,.9), rgba(10,12,20,.9));
  color:var(--dw-text);
  border-radius:22px; border:1px solid var(--dw-border);
  box-shadow:var(--dw-shadow);
  display:grid; grid-template-rows:auto auto 1fr;
  max-height:92vh; overflow:hidden; /* hide to enable clean slide edges */
}

/* Header */
.dw-header{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px;
  padding:14px 18px; border-bottom:1px solid var(--dw-border);
}
.dw-title{ font-weight:800; letter-spacing:.2px; display:flex; align-items:center; gap:10px; }
.dw-title .dw-dot{ width:10px; height:10px; border-radius:99px; background:var(--dw-accent); box-shadow:0 0 16px var(--dw-accent); }

.dw-controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.dw-select,.dw-chip,.dw-btn{
  border:1px solid var(--dw-border);
  border-radius:12px;
  background:var(--dw-chip);
  color:var(--dw-text);
  padding:8px 12px;
  font-size:12.5px;
  transition:background .18s ease, transform .06s ease;
}
.dw-chip:hover,.dw-select:hover,.dw-btn:hover{ background:var(--dw-chip-hover); }
.dw-chip:active,.dw-btn:active{ transform:translateY(1px); }
.dw-chip.active{ background:var(--dw-chip-active); border-color:rgba(255,255,255,.14); }
.dw-btn.primary{ background:#18213a; border-color:rgba(255,255,255,.16); }
.dw-close{ border:0; padding:8px 12px; border-radius:12px; background:#1d233a; color:#c9d3ea; cursor:pointer; }
.dw-close:hover{ background:#232a46; }

.dw-toolbar{ display:flex; gap:8px; align-items:center; }
.dw-kbd{ padding:2px 6px; border-radius:6px; border:1px solid var(--dw-border); background:#0f1528; color:#c7d2fe; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
.dw-tip{ color:var(--dw-muted); font-size:11.5px; }

/* Status */
.dw-statusbar{
  padding:10px 16px;
  display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center;
  border-bottom:1px dashed var(--dw-border);
  color:var(--dw-muted); font-size:12px;
}
.dw-progress{ height:6px; background:#0f1528; border-radius:999px; overflow:hidden; border:1px solid var(--dw-border); }
.dw-progress>i{ display:block; height:100%; background:linear-gradient(90deg,#6ea8ff,#9b8cff); width:0%; transition:width .28s ease; border-radius:999px; }

  /* ===== Content becomes slideshow (horizontal snap) ===== */
  .dw-content{
    /* horizontal slideshow */
    overflow-x:auto;
    overflow-y:hidden;
    padding:0;
    display:flex;
    flex-direction:row;
    align-items:stretch;
    gap:0;
    scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling: touch;
  }

  /* ===== Card ===== */
  .dw-card{
    /* each slide takes full viewport width inside the shell */
    flex:0 0 100%;
    min-width:100%;
    min-height: var(--dw-slide-min-h);
    width:100%;

    background:transparent;
    border:0;
    border-radius:0;
    overflow:hidden;

    display:grid;
    grid-template-columns:1.05fr 1.35fr; /* media | text on wide screens */
    scroll-snap-align:start;
    position:relative;
  }

  /* distinct separation between slides */
  .dw-card + .dw-card{ border-left:1px solid rgba(255,255,255,.06); }

  /* Media (left panel) — FIX: ensure its own height so images don't collapse/overlap */
  .dw-media{
    position:relative;
    background:#0e1428;
    min-height:100%;
  }

  .dw-media .dw-img,
  .dw-media .dw-canvas{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  /* New: dark scrim for legibility */
  .dw-media::after{
    content:"";
    position:absolute; inset:0;
    background:
      linear-gradient(90deg, rgba(0,0,0,.35), rgba(0,0,0,0) 40%),
      radial-gradient(80% 100% at 0% 50%, rgba(0,0,0,.25), transparent 60%);
    pointer-events:none;
  }

  /* Text panel (right) — improved for legibility */
  .dw-copy{
    position:relative;
    padding:32px 28px;
    background:linear-gradient(135deg, rgba(16,20,34,.96), rgba(10,12,20,.96));
    color:var(--dw-text);
    display:grid;
    align-content:center;  /* center like slides */
    gap:12px;
    backdrop-filter:saturate(120%) blur(2px);
  }
  .dw-copy::before{
    content:"";
    position:absolute; inset:0;
    background:linear-gradient(135deg, rgba(122,162,255,.20), rgba(155,140,255,.16));
    opacity:.18;
    mix-blend-mode:overlay;
    pointer-events:none;
  }

  .dw-scene-title{
    font-weight:900;
    font-size:clamp(22px,2.8vw,34px);
    letter-spacing:.2px;
    color:#fff;
    text-shadow:0 2px 12px rgba(0,0,0,.5);
  }
  .dw-copy p{
    color:#d9e1ff;
    opacity:.92;
    font-size:clamp(14px,1.2vw,18px);
    line-height:1.65;
    margin:0 0 6px;
    text-shadow:0 1px 10px rgba(0,0,0,.45);
  }

/* Buttons */
.dw-btn{ cursor:pointer; }
.dw-btn.secondary{ background:rgba(19,26,49,.9); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:8px 12px; }

/* ===== HERO (full-bleed image with darker overlay, not reused in Scene 1) ===== */
.dw-hero{ grid-template-columns:1.2fr 1.6fr; border-bottom:1px solid var(--dw-border); }
@media (max-width:980px){ .dw-hero{ grid-template-columns:1fr; } }

.dw-hero .dw-hero-media{ position:relative; width:100%; min-height:clamp(360px, 60vh, 560px); background:#0e1428; }
.dw-hero .dw-hero-media .dw-img,
.dw-hero .dw-hero-media .dw-canvas{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; border:0; }
/* much darker for legibility */
.dw-hero .dw-hero-media::before{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(to top, rgba(0,0,0,.85), rgba(0,0,0,.55) 45%, rgba(0,0,0,.18) 78%);
  pointer-events:none;
}

/* Text over hero image */
.dw-hero .dw-hero-text{ position:absolute; inset:0; display:flex; flex-direction:column; justify-content:flex-end; padding:28px; gap:10px; }
.dw-hero .dw-page-title{ font-size:clamp(28px,3.4vw,42px); line-height:1.2; font-weight:900; color:#fff; text-shadow:0 2px 18px rgba(0,0,0,.45); }
.dw-hero .dw-hero-text p{ color:rgba(255,255,255,.92); font-size:clamp(14px,1.6vw,18px); margin:0; text-shadow:0 1px 12px rgba(0,0,0,.55); }
.dw-hero .dw-meta,.dw-hero .dw-tip{ color:rgba(255,255,255,.75); }
.dw-hero img.dw-img{ border-bottom:0; }

/* ===== Accessibility / focus ===== */
.dw-focus-ring:focus{ outline:2px solid #6ea8ff; outline-offset:2px; }

/* ===== Responsive stacking (horizontal slideshow) ===== */
@media (max-width:980px){
  .dw-card{
    grid-template-columns:1fr;   /* stack image then text */
  }
  .dw-media::after{
    background:
      linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0) 40%),
      radial-gradient(100% 80% at 50% 100%, rgba(0,0,0,.28), transparent 60%);
  }
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion:reduce){ *{ animation:none !important; transition:none !important; } }
/* Smooth slide feel */
.dw-content{ scroll-behavior:smooth; }